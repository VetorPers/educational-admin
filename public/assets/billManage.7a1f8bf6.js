import{A as a,b as e,e as t,_ as l,r,M as s,o,g as n,v as u,c as p,w as d,h as c,m as i,p as f,k as b,l as g}from"./vendor.7a5fefe5.js";import{f as m,h as _}from"./index.9ba5c9bf.js";const v={class:"footer-wrap g-flex-end"},h={__name:"billManage",setup(h){const w=a(!1),y=a([]),x=e({total:0,size:10,current:1});a(!1),a({}),t((()=>{z()}));const z=()=>{w.value=!0;const a={page:x.current,per_page:x.size};m(a).then((a=>{y.value=a.data.data.data,x.total=a.data.data.total})).catch((a=>{l.error(a.msg)})).finally((()=>{w.value=!1}))},C=a=>{x.size=a,x.current=1,z()},k=a=>{x.current=a,z()};return(a,e)=>{const t=r("el-empty"),m=r("el-table-column"),h=r("el-button"),j=r("el-table"),M=r("el-pagination"),A=s("loading");return o(),n("div",null,[u((o(),p(j,{data:y.value,border:"",style:{width:"100%"}},{empty:d((()=>[i(t,{description:"暂无数据"})])),default:d((()=>[i(m,{prop:"order_no",label:"订单号"}),i(m,{prop:"name",label:"课程名","min-width":"200px"},{default:d((a=>[f(b(a.row.course.name),1)])),_:1}),i(m,{prop:"status_text",label:"订单状态"}),i(m,{prop:"pay_status_text",label:"支付状态"}),i(m,{prop:"count",label:"费用(thb)"},{default:d((a=>[f(b(a.row.course.charge),1)])),_:1}),i(m,{prop:"studentName",label:"学生姓名"},{default:d((a=>[f(b(a.row.student.name),1)])),_:1}),i(m,{label:"操作"},{default:d((a=>[0==a.row.status?(o(),p(h,{key:0,type:"text",onClick:e=>{return t=a.row,w.value=!0,void _(t.id).then((a=>{l.success("发送成功"),z()})).catch((a=>{l.error(a.msg)})).finally((()=>{w.value=!1}));var t}},{default:d((()=>[f("发送账单")])),_:2},1032,["onClick"])):g("",!0)])),_:1})])),_:1},8,["data"])),[[A,w.value]]),c("div",v,[i(M,{layout:"prev, pager, next",total:x.total,"current-page":x.current,"page-size":x.size,onSizeChange:C,onCurrentChange:k},null,8,["total","current-page","page-size"])])])}},__scopeId:"data-v-b95a64fa"};export{h as default};
