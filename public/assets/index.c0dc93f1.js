var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,d=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&i(e,a,l[a]);if(t)for(var a of t(l))r.call(l,a)&&i(e,a,l[a]);return e};import{D as n,y as s,a as u,r as p,L as m,o as c,c as b,q as f,g as v,p as y,M as _,w,f as h,W as V,E as g,d as x,k,F as z,h as q,s as C,x as j,_ as U,j as O}from"./vendor.7d420ba6.js";import{d as R}from"./index.836b3e6c.js";let D="/api/officialWebsite";const P=e=>n({url:D+"/addJob",method:"post",data:e}),J=e=>n({url:D+"/updateJob",method:"post",data:e}),A={class:"dialog-footer"},B={__name:"editJob",props:{nowData:{type:Object,default:{}},dialogVisible:Boolean},emits:["close"],setup(e,{emit:l}){const a=e,t=s(!1),o=s(null),r=a.nowData.id?u(R(a.nowData)):u({name:"",education:"",department:"",desc:"",requirement:"",priority:"",work_place:"北京",work_type:"全职岗位",address:"北京市海淀区北京林业大学学研中心C座305",phone:""}),i=u({name:[{required:!0,message:"请填写岗位名称"}],department:[{required:!0,message:"请输入所属部门"}],work_type:[{required:!0,message:"请选择岗位类型"}],work_place:[{required:!0,message:"请输入工作地点"}],address:[{required:!0,message:"请选择工作地址"}],education:[{required:!0,message:"请输入学历要求"}],desc:[{required:!0,message:"请输入职位描述"}],requirement:[{required:!0,message:"请输入任职要求"}],phone:[{required:!0,message:"请输入联系方式"}]}),d=e=>{r.address={"北京":"北京市海淀区北京林业大学学研中心C座305","宁波":"浙江省宁波市北仑区科创园服务中心南区金狮座A2二楼","深圳":"广东省深圳市龙岗区天安云谷4栋11楼","苏州":"江苏省苏州市吴江区江陵街道云创路512号商会大厦11楼1101室"}[e]},n=()=>{k("")},x=()=>{o.value.validate().then((()=>{t.value=!0;const e=r.id?J:P;"undefined"!==r.priority&&r.priority||(r.priority=""),e(r).then((e=>{g.success("提交成功"),t.value=!1,k("success")})).catch((()=>{g.error("提交失败"),t.value=!1}))})).catch((()=>{}))},k=e=>{l("close",e)};return(l,a)=>{const s=p("el-input"),u=p("el-form-item"),g=p("el-option"),z=p("el-select"),q=p("el-form"),C=p("el-button"),j=p("el-dialog"),U=m("loading");return c(),b(j,{title:V(r).id?"修改职位信息":"添加职位信息","model-value":e.dialogVisible,onClose:n,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:f((()=>[v("span",A,[y(C,{onClick:a[10]||(a[10]=e=>k("")),size:"small"},{default:f((()=>[_("取 消")])),_:1}),y(C,{type:"primary",onClick:x,size:"small"},{default:f((()=>[_("确 定")])),_:1})])])),default:f((()=>[w((c(),h("div",null,[y(q,{ref_key:"formRef",ref:o,model:V(r),rules:i,"label-width":"100px"},{default:f((()=>[y(u,{prop:"name",label:"岗位名称:"},{default:f((()=>[y(s,{type:"text",size:"mini",modelValue:V(r).name,"onUpdate:modelValue":a[0]||(a[0]=e=>V(r).name=e),placeholder:"输入岗位名称"},null,8,["modelValue"])])),_:1}),y(u,{prop:"department",label:"所属部门:"},{default:f((()=>[y(s,{type:"text",size:"mini",modelValue:V(r).department,"onUpdate:modelValue":a[1]||(a[1]=e=>V(r).department=e),placeholder:"输入所属部门"},null,8,["modelValue"])])),_:1}),y(u,{prop:"work_type",label:"岗位类型:"},{default:f((()=>[y(z,{size:"mini",modelValue:V(r).work_type,"onUpdate:modelValue":a[2]||(a[2]=e=>V(r).work_type=e),placeholder:"岗位类型",style:{width:"100%"}},{default:f((()=>[y(g,{label:"全职岗位",value:"全职岗位"}),y(g,{label:"实习岗位",value:"实习岗位"})])),_:1},8,["modelValue"])])),_:1}),y(u,{prop:"work_place",label:"工作地点:"},{default:f((()=>[y(z,{size:"mini",modelValue:V(r).work_place,"onUpdate:modelValue":a[3]||(a[3]=e=>V(r).work_place=e),placeholder:"工作地点",style:{width:"100%"},onChange:d},{default:f((()=>[y(g,{label:"北京",value:"北京"}),y(g,{label:"宁波",value:"宁波"}),y(g,{label:"深圳",value:"深圳"}),y(g,{label:"苏州",value:"苏州"})])),_:1},8,["modelValue"])])),_:1}),y(u,{prop:"address",label:"工作地址:"},{default:f((()=>[y(z,{size:"mini",modelValue:V(r).address,"onUpdate:modelValue":a[4]||(a[4]=e=>V(r).address=e),placeholder:"工作地址",style:{width:"100%"}},{default:f((()=>[y(g,{label:"北京市海淀区北京林业大学学研中心C座305",value:"北京市海淀区北京林业大学学研中心C座305"}),y(g,{label:"浙江省宁波市北仑区科创园服务中心南区金狮座A2二楼",value:"浙江省宁波市北仑区科创园服务中心南区金狮座A2二楼"}),y(g,{label:"广东省深圳市龙岗区天安云谷4栋11楼",value:"广东省深圳市龙岗区天安云谷4栋11楼"}),y(g,{label:"江苏省苏州市吴江区江陵街道云创路512号商会大厦11楼1101室",value:"江苏省苏州市吴江区江陵街道云创路512号商会大厦11楼1101室"})])),_:1},8,["modelValue"])])),_:1}),y(u,{prop:"education",label:"学历要求:"},{default:f((()=>[y(s,{type:"text",size:"mini",modelValue:V(r).education,"onUpdate:modelValue":a[5]||(a[5]=e=>V(r).education=e),placeholder:"输入学历要求"},null,8,["modelValue"])])),_:1}),y(u,{prop:"desc",label:"职位描述:"},{default:f((()=>[y(s,{type:"textarea",size:"mini",autosize:{minRows:2,maxRows:5},modelValue:V(r).desc,"onUpdate:modelValue":a[6]||(a[6]=e=>V(r).desc=e),placeholder:"请输入职位描述"},null,8,["modelValue"])])),_:1}),y(u,{prop:"requirement",label:"任职要求:"},{default:f((()=>[y(s,{type:"textarea",size:"mini",autosize:{minRows:2,maxRows:8},modelValue:V(r).requirement,"onUpdate:modelValue":a[7]||(a[7]=e=>V(r).requirement=e),placeholder:"请输入任职要求"},null,8,["modelValue"])])),_:1}),y(u,{prop:"priority",label:"优先考虑:"},{default:f((()=>[y(s,{type:"textarea",size:"mini",autosize:{minRows:2,maxRows:5},modelValue:V(r).priority,"onUpdate:modelValue":a[8]||(a[8]=e=>V(r).priority=e),placeholder:"请输入优先考虑"},null,8,["modelValue"])])),_:1}),y(u,{prop:"phone",label:"联系方式:"},{default:f((()=>[y(s,{type:"textarea",size:"mini",autosize:{minRows:2,maxRows:5},modelValue:V(r).phone,"onUpdate:modelValue":a[9]||(a[9]=e=>V(r).phone=e),placeholder:"请输入联系方式"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),[[U,t.value]])])),_:1},8,["title","model-value"])}}};const E=e=>(C("data-v-415117af"),e=e(),j(),e),I={class:"btn-wrap g-flex-between",style:{"align-items":"flex-end"}},L={class:"g-flex-start"},M=E((()=>v("div",{style:{flex:"none"}},"岗位名称：",-1))),S={class:"g-flex-start"},T=E((()=>v("div",{style:{flex:"none"}},"岗位类型：",-1))),W={class:"g-flex-start"},F=E((()=>v("div",{style:{flex:"none"}},"所属部门：",-1))),G={class:"g-flex-start"},H=E((()=>v("div",{style:{flex:"none"}},"工作地点：",-1))),K={class:"g-flex-start"},N=E((()=>v("div",{style:{flex:"none"}},"发布时间：",-1))),Q={class:"btn-wrap g-flex-end"},X={class:"footer-wrap g-flex-end"},Y={__name:"index",setup(e){const t=s(!1),o=s([]),r=u({total:0,size:10,current:1}),i=u({name:"",work_type:"",department:"",work_place:"",publick_time:""}),V=s(!1),C=s({});x((()=>{R()}));const j=e=>{"resert"===e&&(i.name="",i.work_type="",i.department="",i.work_place="",i.publick_time=""),R()},R=()=>{var e;t.value=!0,(e=d(d({},r),i),n({url:D+"/jobList",method:"get",params:e})).then((e=>{e.data.data.map((e=>{e.desc=e.desc.split("\n"),e.phone=e.phone.split("\n"),e.priority=e.priority.split("\n"),e.requirement=e.requirement.split("\n")})),o.value=e.data.data,r.total=e.data.total})).catch((e=>{g.error(e.msg)})).finally((()=>{t.value=!1}))},P=()=>{C.value={},V.value=!0},J=e=>{var t,o;C.value=(t=d({},e),o={desc:e.desc.join("\n"),phone:e.phone.join("\n"),priority:e.priority.join("\n"),requirement:e.requirement.join("\n")},l(t,a(o))),V.value=!0},A=e=>{U.confirm("删除后不可恢复。确认删除此岗位吗？","",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,closeOnPressEscape:!1}).then((()=>{t.value=!0,(e=>n({url:D+"/deleteJob",method:"post",data:{id:e}}))(e).then((e=>{g.success("删除成功"),R()})).catch((e=>{g.error("删除失败"),t.value=!1}))})).catch((()=>{}))},E=e=>{V.value=!1,"success"===e&&R()},Y=e=>{r.size=e,r.current=1,R()},Z=e=>{r.current=e,R()};return(e,l)=>{const a=p("el-input"),d=p("el-option"),n=p("el-select"),s=p("el-space"),u=p("el-button"),g=p("el-empty"),x=p("el-table-column"),U=p("el-table"),D=p("el-pagination"),$=m("loading");return c(),h("div",null,[v("div",I,[y(s,{wrap:""},{default:f((()=>[v("div",L,[M,y(a,{placeholder:"岗位名称",size:"mini",modelValue:i.name,"onUpdate:modelValue":l[0]||(l[0]=e=>i.name=e)},null,8,["modelValue"])]),v("div",S,[T,y(n,{size:"mini",modelValue:i.work_type,"onUpdate:modelValue":l[1]||(l[1]=e=>i.work_type=e),placeholder:"岗位类型"},{default:f((()=>[y(d,{label:"全职岗位",value:"全职岗位"}),y(d,{label:"实习岗位",value:"实习岗位"})])),_:1},8,["modelValue"])]),v("div",W,[F,y(a,{placeholder:"所属部门",size:"mini",modelValue:i.department,"onUpdate:modelValue":l[2]||(l[2]=e=>i.department=e)},null,8,["modelValue"])]),v("div",G,[H,y(n,{size:"mini",modelValue:i.work_place,"onUpdate:modelValue":l[3]||(l[3]=e=>i.work_place=e),placeholder:"工作地点"},{default:f((()=>[y(d,{label:"北京",value:"北京"}),y(d,{label:"宁波",value:"宁波"}),y(d,{label:"深圳",value:"深圳"}),y(d,{label:"苏州",value:"苏州"})])),_:1},8,["modelValue"])]),v("div",K,[N,y(n,{size:"mini",modelValue:i.publick_time,"onUpdate:modelValue":l[4]||(l[4]=e=>i.publick_time=e),placeholder:"发布时间"},{default:f((()=>[y(d,{label:"全部",value:"全部"}),y(d,{label:"一年",value:"一年"}),y(d,{label:"六个月",value:"六个月"}),y(d,{label:"三个月",value:"三个月"}),y(d,{label:"一个月",value:"一个月"})])),_:1},8,["modelValue"])])])),_:1}),v("div",null,[y(u,{size:"mini",style:{"margin-bottom":"5px","margin-right":"10px"},type:"primary",onClick:j},{default:f((()=>[_("查询")])),_:1}),y(u,{size:"mini",type:"primary",onClick:l[5]||(l[5]=e=>j("resert")),style:{"margin-left":"0"}},{default:f((()=>[_("重置")])),_:1})])]),v("div",Q,[y(u,{size:"small",onClick:R},{default:f((()=>[_("刷 新")])),_:1}),y(u,{type:"primary",size:"small",onClick:P},{default:f((()=>[_("添 加")])),_:1})]),w((c(),b(U,{data:o.value,border:"",style:{width:"100%"}},{empty:f((()=>[y(g,{description:"暂无数据"})])),default:f((()=>[y(x,{type:"index"}),y(x,{prop:"name",label:"岗位名称"}),y(x,{prop:"department",label:"所属部门"}),y(x,{prop:"work_place",label:"工作地点"}),y(x,{prop:"work_type",label:"岗位类型"}),y(x,{prop:"education",label:"学历要求","min-width":"150px"}),y(x,{prop:"desc",label:"职位描述","min-width":"300px"},{default:f((e=>[(c(!0),h(z,null,q(e.row.desc,((e,l)=>(c(),h("div",{key:e+l},O(e),1)))),128))])),_:1}),y(x,{prop:"requirement",label:"任职要求","min-width":"450px"},{default:f((e=>[(c(!0),h(z,null,q(e.row.requirement,((e,l)=>(c(),h("div",{key:e+l},O(e),1)))),128))])),_:1}),y(x,{prop:"priority",label:"优先考虑"},{default:f((e=>[(c(!0),h(z,null,q(e.row.priority,((e,l)=>(c(),h("div",{key:e+l},O(e),1)))),128))])),_:1}),y(x,{prop:"address",label:"工作地址","min-width":"350px"}),y(x,{prop:"phone",label:"岗位联系方式","min-width":"300px"},{default:f((e=>[(c(!0),h(z,null,q(e.row.phone,((e,l)=>(c(),h("div",{key:e+l},O(e),1)))),128))])),_:1}),y(x,{label:"操作",fixed:"right",width:"120px"},{default:f((e=>[y(u,{type:"text",onClick:l=>J(e.row)},{default:f((()=>[_("修 改")])),_:2},1032,["onClick"]),y(u,{type:"text",onClick:l=>A(e.row.id)},{default:f((()=>[_("删 除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[$,t.value]]),v("div",X,[y(D,{layout:"prev, pager, next",total:r.total,"current-page":r.current,"page-size":r.size,onSizeChange:Y,onCurrentChange:Z},null,8,["total","current-page","page-size"])]),V.value?(c(),b(B,{key:0,nowData:C.value,dialogVisible:V.value,onClose:E},null,8,["nowData","dialogVisible"])):k("",!0)])}},__scopeId:"data-v-415117af"};export{Y as default};
