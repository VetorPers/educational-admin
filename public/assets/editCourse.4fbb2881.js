import{m as e,y as l,a,d as o,r,L as s,o as t,c as i,q as d,g as u,p as m,M as n,w as p,f as c,W as f,D as g}from"./vendor.456c50f4.js";import{a as b}from"./api.c0ba8e4a.js";import{g as h,d as V}from"./index.8c27f3b6.js";const _={class:"dialog-footer"},v={__name:"editCourse",props:{nowData:{type:Object,default:{}},dialogVisible:Boolean},emits:["close"],setup(v,{emit:y}){const Y=v;e(),l(h({name:"token"}));const k=l(!1),w=l(null),z=Y.nowData.id?a(V(Y.nowData)):a({period:"",description:""});a([{id:1,name:"学生1"},{id:2,name:"学生2"}]);const q=()=>{w.value.validate().then(((e,l)=>{k.value=!0,z.charge=Number(z.charge),b(z).then((e=>{g.success("提交成功"),k.value=!1,M("success")})).catch((()=>{g.error("提交失败"),k.value=!1}))})).catch((e=>{}))},x=()=>{M("")},M=e=>{y("close",e)};return o((()=>{})),(e,l)=>{const a=r("el-input"),o=r("el-form-item"),g=r("el-date-picker"),b=r("el-form"),h=r("el-button"),V=r("el-dialog"),y=s("loading");return t(),i(V,{title:f(z).id?"修改课程":"添加课程","model-value":v.dialogVisible,onClose:x,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:d((()=>[u("span",_,[m(h,{onClick:l[4]||(l[4]=e=>M("")),size:"small"},{default:d((()=>[n("取 消")])),_:1}),m(h,{type:"primary",onClick:q,size:"small"},{default:d((()=>[n("确 定")])),_:1})])])),default:d((()=>[p((t(),c("div",null,[m(b,{ref_key:"formRef",ref:w,model:f(z),"label-width":"100px"},{default:d((()=>[m(o,{prop:"name",label:"课程名称:",rules:[{required:!0,message:"输入课程名称",trigger:"blur"}]},{default:d((()=>[m(a,{type:"text",size:"mini",modelValue:f(z).name,"onUpdate:modelValue":l[0]||(l[0]=e=>f(z).name=e),placeholder:"输入课程名称"},null,8,["modelValue"])])),_:1}),m(o,{prop:"period",label:"日期:",rules:[{required:!0,message:"选择日期",trigger:"blur"}]},{default:d((()=>[m(g,{modelValue:f(z).period,"onUpdate:modelValue":l[1]||(l[1]=e=>f(z).period=e),type:"month",size:"mini",placeholder:"请选择日期",style:{width:"100%"},format:"YYYYMM","value-format":"YYYYMM"},null,8,["modelValue"])])),_:1}),m(o,{prop:"charge",label:"费用:",rules:[{required:!0,message:"输入费用",trigger:"blur"}]},{default:d((()=>[m(a,{type:"number",size:"mini",modelValue:f(z).charge,"onUpdate:modelValue":l[2]||(l[2]=e=>f(z).charge=e),placeholder:"输入费用"},null,8,["modelValue"])])),_:1}),m(o,{prop:"description",label:"课程描述:",rules:[{required:!0,message:"输入课程描述",trigger:"blur"}]},{default:d((()=>[m(a,{type:"textarea",size:"mini",modelValue:f(z).description,"onUpdate:modelValue":l[3]||(l[3]=e=>f(z).description=e),placeholder:"输入课程描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),[[y,k.value]])])),_:1},8,["title","model-value"])}},__scopeId:"data-v-ca182216"};export{v as _};
