<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<button id="pay-button">支付</button>
<script src="https://cdn.omise.co/omise.js"></script>
<script>
    Omise.configure({
        publicKey: 'pkey_test_63bwxqmlsds8p45awi2' // 使用你的公钥替换这里
    });

    document.getElementById('pay-button').addEventListener('click', function() {
        OmiseCard.createToken('card-number', function(statusCode, response) {
            if (statusCode == 200) {
                // 发送卡令牌到你的服务器进行支付处理
                fetch('/process-payment.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ cardToken: response.id })
                }).then(function(response) {
                    return response.json();
                }).then(function(data) {
                    console.log(data); // 处理响应数据，例如显示支付成功信息等。
                });
            } else {
                console.log('Token creation failed'); // 处理错误情况。
            }
        });
    });
</script>
</body>
</html>
